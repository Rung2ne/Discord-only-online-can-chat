# Discord-only-online-can-chat
유저 상태가 온라인이 아니라면 디스코드 봇이 메시지를 지우고 로그를 남기는 코드

## requirements
> - discord.py
>> `pip install discord`

## 알아두기
- 로그를 남길 때, 이미지나 동영상, 파일 등 텍스트 메시지가 아닌 경우 로그의 내용 부분은 비어있습니다.
- 이모지는 로그의 내용에 남지만, 기본 이모지나 해당 서버의 이모지가 아닌 타 서버의 이모지의 경우 `:이모지_이름:`으로 로그가 남습니다. 
- 봇이 호스팅 되는 환경의 네트워크 상태가 불안정하거나, Discord API 서버의 과부하 등의 상태일 경우 기능이 정상적으로 작동하지 않을 수 있습니다.
- 모바일 유저의 경우 디스코드 앱을 완전히 종료하지 않고 창만 나갔다가 다시 들어오는 경우, 앱을 나가면서 자리비움 상태가 되는데, 들어오자마자 바로 채팅을 보내는 경우, 멤버 목록 등을 보면 온라인이라 뜨지만, 봇은 아직 자리비움이라 인식하고 있어, 조금 기다려야 한다. 그래서 개인적으로는 앱을 종료하는 것을 추천한다.
- 푸시 알림을 통해 빠른 답장이 불가하다. 푸시 알림을 통해 빠른 답장을 하는 경우, 컴퓨터에서 디코를 켜두고 있는 것이 아닌 이상, 당신의 상태는 자리비움 또는 오프라인으로 뜰 것이다. 그래서 앱을 열지 않고 푸시 알림을 통해 빠른 답장을 해도 메시지가 삭제될 것이니 사실상 푸시 알림을 통한 빠른 답장은 불가하다고 봐야한다. ~~사실 나도 그걸 알지만, 일부러 오프라인으로 표시하는 유저를 골탕먹이기 위해 다른 멤버들이 불편을 감수하면서까지 적용한 것이다.~~

## 코드 첨부
[아무튼 코드](https://github.com/Rung2ne/Discord-only-online-can-chat/blob/main/app.py)

## 사용 방법
1. Privileged Gateway Intents에서 Message Content Intent를 켜야 한다.
2. 메시지 차단 로그를 남길 채널 ID를 설정한다.
3. 토큰을 자신의 토큰으로 바꾼다.
